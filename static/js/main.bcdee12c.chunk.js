(this["webpackJsonpyalantis-test"]=this["webpackJsonpyalantis-test"]||[]).push([[0],{3:function(e,t,a){e.exports={app:"App_app__1Uz4n",employeeListContanier:"App_employeeListContanier__1GM7t",birthdayListContanier:"App_birthdayListContanier__3bCGL",listTitle:"App_listTitle__2yQiW",letterTitle:"App_letterTitle__2F5B8",infoTitle:"App_infoTitle__3Tbc-",fullName:"App_fullName__2zjSl",birthdayMonthList:"App_birthdayMonthList__t5D7W",birthdayMonth:"App_birthdayMonth__2HW7G",birthday:"App_birthday__sRyGD",employeeList:"App_employeeList__1ZUHF",employee:"App_employee__9YYSF",employeeActive:"App_employeeActive__2FKr-",clearButton:"App_clearButton__wI9AB"}},32:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),s=(a(32),a(9)),l=function(){return Object(s.b)()},o=s.c,u=a(60);var d=a(15),f=a.n(d),p=a(24),j=a(8),m=a(25),h=a.n(m);var b=a(61),y={allStaff:[],activeStaffIds:[],status:"idle"},v=Object(j.b)("staff/fetchStaff",Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.data})).catch((function(e){return alert("Oops, something went wrong..."),console.log("ERROR",e),e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),O=Object(j.c)({name:"staff",initialState:y,reducers:{addActiveEmployee:function(e,t){e.activeStaffIds.push(t.payload)},removeActiveEmployee:function(e,t){e.activeStaffIds=e.activeStaffIds.filter((function(e){return e!==t.payload}))},resetState:function(e,t){console.log(t.payload),e.activeStaffIds=y.activeStaffIds}},extraReducers:function(e){e.addCase(v.pending,(function(e){e.status="loading"})).addCase(v.fulfilled,(function(e,t){e.status="idle",e.allStaff=t.payload}))}}),x=O.actions,_=x.addActiveEmployee,N=x.removeActiveEmployee,A=x.resetState,g=function(e){return e.staff.allStaff},S=function(e){return e.staff.activeStaffIds},C=function(e){if(!e.staff.activeStaffIds.length)return[];var t=Array.from(Array(12).keys()),a=[];return t.forEach((function(t){return a[t]=function(e){return e.staff.activeStaffIds.map((function(t){return e.staff.allStaff.filter((function(e){return e.id===t}))[0]}))}(e).filter((function(e){return Object(u.a)(Object(b.a)(e.dob))===t}))})),a},w=O.reducer,L=a(62),M=a(3),T=a.n(M),k=a(1);var E=function(e){var t=e.employee,a=t.lastName.concat(" ",t.firstName);return Object(k.jsxs)("li",{className:T.a.birthday,children:[a,"\xa0-\xa0",Object(L.a)(Object(b.a)(t.dob),"dd MMMM, yyyy"),"\xa0year"]})};var I=function(e){var t,a=e.month,n=e.staff,r=((t=n).sort((function(e,t){var a=e.lastName.toUpperCase(),n=t.lastName.toUpperCase();return a<n?-1:a>n?1:0})),t),i=Object(u.a)(Object(b.a)(n[0].dob));return Object(k.jsxs)("li",{className:T.a.birthdayMonth,children:[Object(k.jsx)("p",{className:T.a.letterTitle,children:["January","February","March","April","May","June","July","August","September","October","November","December"][i]}),Object(k.jsx)("ul",{children:r.map((function(e){return Object(k.jsx)(E,{employee:e},e.id)}))})]},a)};var B=function(){var e=l(),t=o(S),a=function(e){var t=Object(u.a)(new Date);if(0===t)return e;var a=e.slice(0,t);return e.slice(t).concat(a)}(o(C));return Object(k.jsxs)("div",{className:T.a.birthdayListContanier,children:[Object(k.jsx)("p",{className:T.a.listTitle,children:"Employees' Birthdays"}),Object(k.jsx)("hr",{}),t.length?Object(k.jsxs)("ul",{className:T.a.birthdayMonthList,children:[a.map((function(e,t){return e.length?Object(k.jsx)(I,{month:t,staff:e},t):null})),Object(k.jsx)("button",{className:T.a.clearButton,onClick:function(){return e(A("ResetActive"))},children:"Clear all"})]}):Object(k.jsx)("p",{className:T.a.infoTitle,children:"Employees List is empty"})]})};var R=function(e){var t=e.firstName,a=e.lastName,n=e.id,r=a.concat(" ",t),i=l(),c=o(S).includes(n);function s(e){"false"===e.value?i(N(e.id)):i(_(e.id))}return Object(k.jsxs)("div",{className:c?T.a.employee+" "+T.a.employeeActive:T.a.employee,children:[Object(k.jsx)("p",{className:T.a.fullName,children:r}),Object(k.jsxs)("div",{className:"radioButton",children:[Object(k.jsx)("input",{type:"radio",id:n,name:r,value:"false",onChange:function(e){return s(e.target)},checked:!c}),Object(k.jsx)("label",{htmlFor:"notActiveRadio",children:"not active"})]}),Object(k.jsxs)("div",{className:"radioButton",children:[Object(k.jsx)("input",{type:"radio",id:n,name:r,value:"true",onChange:function(e){return s(e.target)},checked:c}),Object(k.jsx)("label",{htmlFor:"activeRadio",children:"active"})]})]})};var F=function(){var e=l(),t=o(g);Object(n.useEffect)((function(){e(v())}),[]);for(var a=[],r=0;r<26;r++)a.push(String.fromCharCode("A".charCodeAt(0)+r));return Object(k.jsxs)("div",{className:T.a.employeeListContanier,children:[Object(k.jsx)("p",{className:T.a.listTitle,children:"Employees"}),Object(k.jsx)("hr",{}),t.length?Object(k.jsx)("ul",{className:T.a.employeeList,children:a.map((function(e,a){var n=t.filter((function(t){return t.lastName[0].toUpperCase()===e}));return n.length?Object(k.jsxs)("li",{children:[Object(k.jsx)("p",{className:T.a.letterTitle,children:e}),n.map((function(e){return Object(k.jsx)(R,{firstName:e.firstName,lastName:e.lastName,id:e.id},e.id)}))]},e):Object(k.jsxs)("li",{children:[Object(k.jsx)("p",{className:T.a.letterTitle,children:e}),Object(k.jsx)("p",{className:T.a.fullName,children:"---"})]},e)}))}):Object(k.jsx)("p",{children:"Loading employee data..."})]})};var J=function(){return Object(k.jsxs)("div",{className:T.a.app,children:[Object(k.jsx)(F,{}),Object(k.jsx)(B,{})]})},U=a(7),W=a(26),D={key:"root",storage:a.n(W).a},G=Object(U.g)(D,w),z=Object(j.a)({reducer:{staff:G},middleware:Object(j.d)({serializableCheck:{ignoredActions:[U.a,U.f,U.b,U.c,U.d,U.e]}})}),H=Object(U.h)(z),Y=a(27);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(s.a,{store:z,children:Object(k.jsx)(Y.a,{loading:null,persistor:H,children:Object(k.jsx)(J,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.bcdee12c.chunk.js.map